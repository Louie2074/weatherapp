(()=>{"use strict";const e="f47caeaccab80f4af8e4e68f8b46c5a5";function t(e){return Math.round(1.8*(e-273.15)+32)}function n(e){return Math.round(e-273.15)}let r=document.querySelector("#result-temp"),o=document.querySelector("#result-place"),u=document.querySelector("#result-weather"),a=document.querySelector("#result-feeling"),i=document.querySelector("#result-humidity"),m=document.querySelector("#result-pressure"),c=document.querySelector("#result-mintemp"),s=document.querySelector("#result-maxtemp");const l=[r,a,c,s];let p=document.querySelector(".btn-outline-success"),d=document.querySelector("#convert-units-btn");d.addEventListener("click",(e=>{let t="F°"==d.textContent?"C°":"F°",n="F°"==t?1:0;d.textContent=t,function(e){l.forEach((t=>{let n=function(e,t=0){return 0==t?Math.round((e-32)/1.8):Math.round(1.8*e+32)}(parseInt(t.textContent),e);t.textContent=`${n}°`}))}(n)})),p.addEventListener("click",(async l=>{l.preventDefault();let p=document.querySelector("input").value;try{const l=await async function(r){const o=function(e){let t=e.split(",");(t.length>2||t.length>1&&0==t[1].length)&&function(e,t){throw{name:"Invalid Input",message:"Please use the format City, Country"}}();for(let e=0;e<t.length;e++)t[e]=t[e].trim();return t}(r),u=1==o.length?`q=${o}&appid=${e}`:`q=${o[0]},${o[1]}&appid=${e}`,a=await fetch(`https://api.openweathermap.org/data/2.5/weather?${u}`);return{name:(i=await a.json()).name,country:i.sys.country,desc:i.weather[0].description,feelsLike:[n(i.main.feels_like),t(i.main.feels_like)],temp:[n(i.main.temp),t(i.main.temp)],temp_max:[n(i.main.temp_max),t(i.main.temp_max)],temp_min:[n(i.main.temp_min),t(i.main.temp_min)],humidity:i.main.humidity,pressure:i.main.pressure};var i}(p);console.log(l),function(e,t=1){r.textContent=`${e.temp[t]}°`,o.textContent=`${e.name}, ${e.country}`,a.textContent=`${e.feelsLike[t]}°`,u.textContent=e.desc.split(" ").map((e=>e[0].toUpperCase()+e.substring(1))).join(" "),i.textContent=`${e.humidity}`,m.textContent=`${e.pressure}`,c.textContent=`${e.temp_min[t]}°`,s.textContent=`${e.temp_max[t]}°`}(l,1)}catch(e){"Invalid Input"==e.name?window.alert(e.message):window.alert("City Not Found, Please Try Again")}}))})();
